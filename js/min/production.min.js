"use strict";function createRequest(){var t;try{t=new XMLHttpRequest}catch(e){try{t=new ActiveXObject("Msxml2.XMLHTTP")}catch(e){try{t=new ActiveXObject("Microsoft.XMLHTTP")}catch(e){t=null}}}return t}!function(){var a,t,l,e=640,n=1024,r=1440,s=document.querySelector("body"),d=document.querySelector("#lightbox"),u=d.querySelector("#image-wrapper"),o=document.querySelector("#main-banner"),i=o.querySelector("header"),c=i.querySelector("#main-logo"),m=i.querySelector("#hamburger-menu"),v=i.querySelector("#main-nav"),h=v.querySelectorAll("a"),p=(document.querySelector("#motto"),0),f="small",y=!1,L=new TimelineLite;function g(){a=this<e||window.innerWidth<e?"small":this<n||window.innerWidth<n?"medium":this<r||window.innerWidth<r?"large":"xlarge"}function S(e){e.preventDefault(),!0===y&&w();var t=s.querySelector("#work"),n=s.querySelector("#about"),r=s.querySelector("#contact");switch(this.id){case"main-logo":s.scrollIntoView({block:"start",inline:"start",behavior:"smooth"});break;case"menu-work":t.scrollIntoView({block:"start",inline:"start",behavior:"smooth"});break;case"menu-about":n.scrollIntoView({block:"start",inline:"start",behavior:"smooth"});break;case"menu-contact":r.scrollIntoView({block:"start",inline:"start",behavior:"smooth"})}}function w(){if(y)y=!1,i.classList.remove("openmenu"),m.classList.remove("ion-android-close"),m.classList.add("ion-navicon"),v.classList.remove("down");else{var e=-Math.abs(o.offsetHeight-i.offsetHeight)/2,t=o.getBoundingClientRect();y=!0,m.classList.remove("ion-navicon"),m.classList.add("ion-android-close"),i.classList.add("openmenu"),t.top<=e&&v.classList.add("down")}}function q(){if(4===t.readyState||"complete"===t.readyState){var e=JSON.parse(t.responseText),i=document.querySelector("#projects");e.forEach(function(e){var t=document.createElement("li");t.className="project-item";var n=document.createElement("a");n.href="#";var r=document.createElement("img");r.src="images/"+e.cover,r.alt=e.name,r.dataset.id=e.id;var o=document.createElement("h3");o.innerHTML=e.name,n.appendChild(r),n.appendChild(o),t.appendChild(n),i.appendChild(t),"ontouchstart"in document.documentElement||t.classList.add("no-touch"),t.addEventListener("click",E,!1)})}}function E(e){for(e.preventDefault();u.firstChild;)u.removeChild(u.firstChild);var t=e.currentTarget.querySelector("img").getAttribute("data-id");if(l=createRequest()){var n="includes/projects.php?id="+t;l.onreadystatechange=b,l.open("GET",n,!0),l.send(null)}else alert("Browser does not support AJAX")}function b(){if(4===l.readyState||"complete"===l.readyState){var e=JSON.parse(l.responseText),t=d.querySelector("#lb-content"),n=t.querySelector("#project-name"),r=t.querySelector("#project-desc > p"),o=t.querySelector("#lb-close"),i=t.querySelector("#lb-left"),c=t.querySelector("#lb-right");e.forEach(function(e){var t=document.createElement("img");t.classList.add("media-change"),t.src="images/"+e.file+"_"+a+"."+e.extension,u.appendChild(t)}),n.innerHTML=e[0].name,r.innerHTML=e[0].description,p=0,d.style.display="block",d.removeEventListener("click",k,!1),o.removeEventListener("click",k,!1),i.removeEventListener("click",A,!1),c.removeEventListener("click",T,!1),u.removeEventListener("click",T,!1),d.addEventListener("click",k,!1),o.addEventListener("click",k,!1),i.addEventListener("click",A,!1),c.addEventListener("click",T,!1),u.addEventListener("click",T,!1),n.addEventListener("click",function(e){e.stopPropagation()}),r.addEventListener("click",function(e){e.stopPropagation()}),s.classList.add("noscroll")}}function k(){d.style.display="none",s.classList.remove("noscroll"),p=0,TweenMax.to(u,0,{left:0})}function A(e){e.stopPropagation();var t=u.offsetWidth,n=u.querySelectorAll("img");L.isActive()||(0===p?(L.to(u,.5,{left:"-"+t*(n.length-1)+"px"}),p=n.length-1):(L.to(u,.5,{left:"-"+t*(p-1)+"px"}),p-=1))}function T(e){e.stopPropagation();var t=u.offsetWidth,n=u.querySelectorAll("img");L.isActive()||(p===n.length-1?(L.to(u,.5,{left:0}),p=0):(L.to(u,.5,{left:"-"+t*(p+1)+"px"}),p+=1))}g.call(window.innerWidth),function(){(t=createRequest())?(t.onreadystatechange=q,t.open("GET","includes/projects.php",!0),t.send(null)):alert("Browser does not support AJAX")}.call(document.querySelector("#projects")),function(){for(var e=0;e<this.length;e++)this[e].src=this[e].src.replace("small",a);f=a}.call(document.querySelectorAll(".media-change")),window.addEventListener("resize",g,!1),window.addEventListener("resize",function(){if(f!==a){for(var e=document.querySelectorAll(".media-change"),t=0;t<e.length;t++)e[t].src=e[t].src.replace(f,a);f=a}},!1),window.addEventListener("scroll",function(){!0===y&&w();var e=-Math.abs(o.offsetHeight-i.offsetHeight);o.getBoundingClientRect().top<=e?i.classList.add("ontop"):i.classList.remove("ontop")},!1),h.forEach(function(e){e.addEventListener("click",S,!1)}),c.addEventListener("click",S,!1),m.addEventListener("click",w,!1)}();