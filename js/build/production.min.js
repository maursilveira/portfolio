function createRequest(){var e;try{e=new XMLHttpRequest}catch(t){try{e=new ActiveXObject("Msxml2.XMLHTTP")}catch(t){try{e=new ActiveXObject("Microsoft.XMLHTTP")}catch(t){e=null}}}return e}!function(){"use strict";function e(){this<s||window.innerWidth<s?"small":this<d||window.innerWidth<d?"medium":"large"}function t(e){e.preventDefault(),!0===w&&o();var t=p.querySelector("#work"),n=p.querySelector("#about"),r=p.querySelector("#contact");switch(this.id){case"main-logo":p.scrollIntoView({block:"start",inline:"start",behavior:"smooth"});break;case"menu-work":t.scrollIntoView({block:"start",inline:"start",behavior:"smooth"});break;case"menu-about":n.scrollIntoView({block:"start",inline:"start",behavior:"smooth"});break;case"menu-contact":r.scrollIntoView({block:"start",inline:"start",behavior:"smooth"})}}function o(){if(w)w=!1,f.classList.remove("openmenu"),y.classList.remove("ion-android-close"),y.classList.add("ion-navicon"),L.classList.remove("down");else{var e=-Math.abs(v.offsetHeight-f.offsetHeight)/2,t=v.getBoundingClientRect();w=!0,y.classList.remove("ion-navicon"),y.classList.add("ion-android-close"),f.classList.add("openmenu"),t.y<=e&&L.classList.add("down")}}function n(){if(4===u.readyState||"complete"===u.readyState){var e=JSON.parse(u.responseText),t=document.querySelector("#projects");e.forEach(function(e){let o=document.createElement("li");o.className="project-item";let n=document.createElement("a");n.href="#";let c=document.createElement("img");c.src="images/"+e.cover,c.alt=e.name,c.dataset.id=e.id;let i=document.createElement("h3");i.innerHTML=e.name,n.appendChild(c),n.appendChild(i),o.appendChild(n),t.appendChild(o),o.addEventListener("click",r,!1)})}}function r(e){e.preventDefault();var t=e.currentTarget.querySelector("img").getAttribute("data-id");if(m=createRequest()){var o="includes/projects.php?id="+t;m.onreadystatechange=c,m.open("GET",o,!0),m.send(null)}else alert("Browser does not support AJAX")}function c(){if(4===m.readyState||"complete"===m.readyState){var e=JSON.parse(m.responseText),t=h.querySelector("#lb-content"),o=t.querySelector("#project-name"),n=t.querySelector("#project-desc"),r=t.querySelector("#image-wrapper"),c=t.querySelector("#lb-close"),s=t.querySelector("#lb-left"),d=t.querySelector("#lb-right");e.forEach(function(e){let t=document.createElement("img");t.src="images/"+e.path,r.appendChild(t)}),o.innerHTML=e[0].name,n.innerHTML=e[0].description,q=0,h.style.display="block",c.removeEventListener("click",i,!1),s.removeEventListener("click",l,!1),d.removeEventListener("click",a,!1),c.addEventListener("click",i,!1),s.addEventListener("click",l,!1),d.addEventListener("click",a,!1),p.classList.add("noscroll")}}function i(){h.style.display="none",p.classList.remove("noscroll")}function l(){var e=h.querySelector("#image-wrapper"),t=e.offsetWidth,o=e.querySelectorAll("img");b.isActive()||(0===q?(console.log("first photo, go to last one"),b.to(e,.5,{left:"-"+t*(o.length-1)+"px"}),q=o.length-1):(console.log("go to previous one"),b.to(e,.5,{left:"-"+t*(q-1)+"px"}),q-=1))}function a(){var e=h.querySelector("#image-wrapper"),t=e.offsetWidth,o=e.querySelectorAll("img");console.log(t),console.log(q),b.isActive()||(q===o.length-1?(console.log("last photo, go to first one"),b.to(e,.5,{left:0}),q=0):(console.log("go to next one"),b.to(e,.5,{left:"-"+t*(q+1)+"px"}),q+=1))}const s=640,d=1024;var u,m,p=document.querySelector("body"),h=document.querySelector("#lightbox"),v=document.querySelector("#main-banner"),f=v.querySelector("header"),g=f.querySelector("#main-logo"),y=f.querySelector("#hamburger-menu"),L=f.querySelector("#main-nav"),S=L.querySelectorAll("a"),q=0,w=!1,b=new TimelineLite;e.call(window.innerWidth),function(){(u=createRequest())?(u.onreadystatechange=n,u.open("GET","includes/projects.php",!0),u.send(null)):alert("Browser does not support AJAX")}.call(document.querySelector("#projects")),window.addEventListener("resize",e,!1),window.addEventListener("scroll",function(){!0===w&&o();var e=-Math.abs(v.offsetHeight-f.offsetHeight);v.getBoundingClientRect().y<=e?f.classList.add("ontop"):f.classList.remove("ontop")},!1),S.forEach(function(e){e.addEventListener("click",t,!1)}),g.addEventListener("click",t,!1),y.addEventListener("click",o,!1)}();