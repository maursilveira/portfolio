function createRequest(){var e;try{e=new XMLHttpRequest}catch(t){try{e=new ActiveXObject("Msxml2.XMLHTTP")}catch(t){try{e=new ActiveXObject("Microsoft.XMLHTTP")}catch(t){e=null}}}return e}!function(){"use strict";function e(){m=this<s||window.innerWidth<s?"small":this<d||window.innerWidth<d?"medium":this<u||window.innerWidth<u?"large":"xlarge"}function t(e){e.preventDefault(),!0===A&&n();var t=v.querySelector("#work"),r=v.querySelector("#about"),o=v.querySelector("#contact");switch(this.id){case"main-logo":v.scrollIntoView({block:"start",inline:"start",behavior:"smooth"});break;case"menu-work":t.scrollIntoView({block:"start",inline:"start",behavior:"smooth"});break;case"menu-about":r.scrollIntoView({block:"start",inline:"start",behavior:"smooth"});break;case"menu-contact":o.scrollIntoView({block:"start",inline:"start",behavior:"smooth"})}}function n(){if(A)A=!1,L.classList.remove("openmenu"),S.classList.remove("ion-android-close"),S.classList.add("ion-navicon"),q.classList.remove("down");else{var e=-Math.abs(g.offsetHeight-L.offsetHeight)/2,t=g.getBoundingClientRect();A=!0,S.classList.remove("ion-navicon"),S.classList.add("ion-android-close"),L.classList.add("openmenu"),t.y<=e&&q.classList.add("down")}}function r(){if(4===h.readyState||"complete"===h.readyState){var e=JSON.parse(h.responseText),t=document.querySelector("#projects");e.forEach(function(e){let n=document.createElement("li");n.className="project-item";let r=document.createElement("a");r.href="#";let i=document.createElement("img");i.src="images/"+e.cover,i.alt=e.name,i.dataset.id=e.id;let c=document.createElement("h3");c.innerHTML=e.name,r.appendChild(i),r.appendChild(c),n.appendChild(r),t.appendChild(n),n.addEventListener("click",o,!1)})}}function o(e){for(e.preventDefault();y.firstChild;)y.removeChild(y.firstChild);var t=e.currentTarget.querySelector("img").getAttribute("data-id");if(p=createRequest()){var n="includes/projects.php?id="+t;p.onreadystatechange=i,p.open("GET",n,!0),p.send(null)}else alert("Browser does not support AJAX")}function i(){if(4===p.readyState||"complete"===p.readyState){var e=JSON.parse(p.responseText),t=f.querySelector("#lb-content"),n=t.querySelector("#project-name"),r=t.querySelector("#project-desc > p"),o=t.querySelector("#lb-close"),i=t.querySelector("#lb-left"),s=t.querySelector("#lb-right");e.forEach(function(e){let t=document.createElement("img");t.src="images/"+e.file+"_large."+e.extension,y.appendChild(t)}),n.innerHTML=e[0].name,r.innerHTML=e[0].description,b=0,f.style.display="block",f.removeEventListener("click",c,!1),o.removeEventListener("click",c,!1),i.removeEventListener("click",l,!1),s.removeEventListener("click",a,!1),y.removeEventListener("click",a,!1),f.addEventListener("click",c,!1),o.addEventListener("click",c,!1),i.addEventListener("click",l,!1),s.addEventListener("click",a,!1),y.addEventListener("click",a,!1),n.addEventListener("click",function(e){e.stopPropagation()}),r.addEventListener("click",function(e){e.stopPropagation()}),v.classList.add("noscroll")}}function c(){f.style.display="none",v.classList.remove("noscroll"),b=0,TweenMax.to(y,0,{left:0})}function l(e){e.stopPropagation();var t=y.offsetWidth,n=y.querySelectorAll("img");T.isActive()||(0===b?(T.to(y,.5,{left:"-"+t*(n.length-1)+"px"}),b=n.length-1):(T.to(y,.5,{left:"-"+t*(b-1)+"px"}),b-=1))}function a(e){e.stopPropagation();var t=y.offsetWidth,n=y.querySelectorAll("img");T.isActive()||(b===n.length-1?(T.to(y,.5,{left:0}),b=0):(T.to(y,.5,{left:"-"+t*(b+1)+"px"}),b+=1))}const s=640,d=1024,u=1440;var m,h,p,v=document.querySelector("body"),f=document.querySelector("#lightbox"),y=f.querySelector("#image-wrapper"),g=document.querySelector("#main-banner"),L=g.querySelector("header"),w=L.querySelector("#main-logo"),S=L.querySelector("#hamburger-menu"),q=L.querySelector("#main-nav"),E=q.querySelectorAll("a"),b=0,k="small",A=!1,T=new TimelineLite;e.call(window.innerWidth),function(){(h=createRequest())?(h.onreadystatechange=r,h.open("GET","includes/projects.php",!0),h.send(null)):alert("Browser does not support AJAX")}.call(document.querySelector("#projects")),function(){for(let e=0;e<this.length;e++)this[e].src=this[e].src.replace("small",m);k=m}.call(document.querySelectorAll(".media-change")),window.addEventListener("resize",e,!1),window.addEventListener("resize",function(){if(k!==m){var e=document.querySelectorAll(".media-change");for(let t=0;t<e.length;t++)e[t].src=e[t].src.replace(k,m);k=m}},!1),window.addEventListener("scroll",function(){!0===A&&n();var e=-Math.abs(g.offsetHeight-L.offsetHeight);g.getBoundingClientRect().y<=e?L.classList.add("ontop"):L.classList.remove("ontop")},!1),E.forEach(function(e){e.addEventListener("click",t,!1)}),w.addEventListener("click",t,!1),S.addEventListener("click",n,!1)}();