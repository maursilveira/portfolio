{"version":3,"sources":["production.js"],"names":["createRequest","request","XMLHttpRequest","e","ActiveXObject","MIN","MEDIUM","LARGE","XLARGE","screensize","bodyarea","document","querySelector","lightbox","wrapper","banner","header","logo","hambmenu","menu","menubtns","querySelectorAll","motto","projectRequest","detailRequest","imageRequest","curPhoto","curSize","menuOpen","mottoAnimated","galleryTl","TimelineLite","checkScreenSize","window","innerWidth","isElementInViewport","el","rect","getBoundingClientRect","top","left","bottom","innerHeight","documentElement","clientHeight","right","clientWidth","setImageSize","i","length","src","replace","changeImageSize","img","fixHeaderOnTop","menuAnimation","pos","Math","abs","offsetHeight","offsets","classList","add","remove","scrollSection","evt","preventDefault","worksec","aboutsec","contactsec","id","scrollIntoView","block","inline","behavior","showProjects","alert","url","onreadystatechange","getProjects","open","send","readyState","result","JSON","parse","responseText","projectcont","forEach","project","item","createElement","className","link","href","image","cover","alt","name","dataset","innerHTML","appendChild","addEventListener","openProjectLightbox","firstChild","removeChild","currentTarget","getAttribute","getImage","content","title","desc","close","file","extension","description","style","display","removeEventListener","closeLightbox","previousPhoto","nextPhoto","stopPropagation","TweenMax","to","width","offsetWidth","photos","isActive","animateMotto","paddingTop","opacity","call","button"],"mappings":"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","file":"production.es5.js","sourcesContent":["// JavaScript Document\n\n//utility function to create AJAX request/XHR object\n\nfunction createRequest() {\n\tvar request;\n\n\ttry {\n\t\trequest = new XMLHttpRequest();\n\t  } catch(e) {\n\t\ttry {\n\t\t  request = new ActiveXObject(\"Msxml2.XMLHTTP\");\n\t\t} catch(e) {\n\t\t\ttry {\n\t\t \t\trequest = new ActiveXObject(\"Microsoft.XMLHTTP\");\n\t\t\t} \tcatch(e) {\n\t\t\trequest = null;\n\t\t}\n\t}\n}\n\treturn request;\n}\n\n(function() {\n  'use strict';\n\n  const MIN = 320;\n  const MEDIUM = 640;\n  const LARGE = 1024;\n  const XLARGE = 1440;\n  var screensize;\n  var bodyarea = document.querySelector('body');\n  var lightbox = document.querySelector('#lightbox');\n  var wrapper = lightbox.querySelector('#image-wrapper');\n  var banner = document.querySelector('#main-banner');\n  var header = banner.querySelector('header');\n  var logo = header.querySelector('#main-logo');\n  var hambmenu = header.querySelector('#hamburger-menu');\n  var menu = header.querySelector('#main-nav');\n  var menubtns = menu.querySelectorAll('a');\n  var motto = document.querySelector('#motto');\n  var projectRequest;\n  var detailRequest;\n  var imageRequest;\n  var curPhoto = 0;\n  var curSize = 'small';\n  var menuOpen = false;\n  var mottoAnimated = false;\n\n  var galleryTl = new TimelineLite();\n\n  function checkScreenSize() {\n    if(this < MEDIUM || window.innerWidth < MEDIUM) {\n      screensize = 'small';\n    }\n    else if(this < LARGE || window.innerWidth < LARGE) {\n      screensize = 'medium';\n    }\n    else if(this < XLARGE || window.innerWidth < XLARGE) {\n      screensize = 'large';\n    }\n    else {\n      screensize = 'xlarge';\n    }\n  }\n\n  function isElementInViewport(el) {\n    let rect = el.getBoundingClientRect();\n    return (\n      rect.top >= 0 &&\n      rect.left >= 0 &&\n      rect.bottom <= (window.innerHeight+100 || document.documentElement.clientHeight+100) &&\n      rect.right <= (window.innerWidth || document.documentElement.clientWidth)\n    );\n  }\n\n  //set images size (small, medium or large) on load\n  function setImageSize() {\n    for (let i = 0; i < this.length; i++) {\n      this[i].src = this[i].src.replace('small', screensize);\n    }\n    curSize = screensize;\n  }\n\n  // change images and videos size (small, medium or large) on screen resize\n  function changeImageSize() {\n    if (curSize !== screensize) {\n      var img = document.querySelectorAll('.media-change');\n      for (let i = 0; i < img.length; i++) {\n        img[i].src = img[i].src.replace(curSize, screensize);\n      }\n      curSize = screensize;\n      // console.log(curSize);\n    }\n  }\n\n  //make header fixed when reaching top of screen on scroll\n  //release it when scrolling up back\n  function fixHeaderOnTop() {\n    if(menuOpen === true) {\n      menuAnimation();\n    }\n    //diference from banner height to header height to get position on screen to fire\n    //it is negative because scrolling up makes y and top properties of offsets negative\n    var pos = -Math.abs(banner.offsetHeight - header.offsetHeight);\n    //get position of banner on screen\n    var offsets = banner.getBoundingClientRect();\n\n    //check if position y of banner is smaller or equal to position of header on screen\n    //if true, add class 'ontop' to header\n    //if false, remove class 'ontop' from header\n    if (offsets.top <= pos) {\n      header.classList.add('ontop');\n    }\n    else {\n      header.classList.remove('ontop');\n    }\n  }\n\n  // function to scroll to selected area when menu clicked\n  function scrollSection(evt) {\n    evt.preventDefault();\n    if (menuOpen === true) {\n      menuAnimation();\n    }\n    var worksec = bodyarea.querySelector('#work');\n    var aboutsec = bodyarea.querySelector('#about');\n    var contactsec = bodyarea.querySelector('#contact');\n\n    switch(this.id) {\n      case 'main-logo':\n        bodyarea.scrollIntoView({block: 'start', inline: 'start', behavior: 'smooth'});\n        break;\n      case 'menu-work':\n        worksec.scrollIntoView({block: 'start', inline: 'start', behavior: 'smooth'});\n        break;\n      case 'menu-about':\n        aboutsec.scrollIntoView({block: 'start', inline: 'start', behavior: 'smooth'});\n        break;\n      case 'menu-contact':\n        contactsec.scrollIntoView({block: 'start', inline: 'start', behavior: 'smooth'});\n        break;\n      default:\n        break;\n    }\n  }\n\n  function menuAnimation() {\n    if (!menuOpen) {\n      var pos = -Math.abs(banner.offsetHeight - header.offsetHeight)/2\n      var offsets = banner.getBoundingClientRect();\n      menuOpen = true;\n      hambmenu.classList.remove('ion-navicon');\n      hambmenu.classList.add('ion-android-close');\n      header.classList.add('openmenu');\n      if (offsets.top <= pos) {\n          menu.classList.add('down');\n      }\n    }\n    else {\n      menuOpen = false;\n      // menuTl.reverse();\n      header.classList.remove('openmenu');\n      hambmenu.classList.remove('ion-android-close');\n      hambmenu.classList.add('ion-navicon');\n      menu.classList.remove('down');\n    }\n  }\n\n  // function changeBanner() {\n  //   console.log('changeBanner');\n  //   var bannerimg = document.querySelector('#main-banner > img');\n  //   bannerimg.src = 'images/statue.jpg';\n  // }\n\n  function showProjects() {\n    // console.log(this);\n    projectRequest = createRequest();\n  \tif (!projectRequest) {\n  \t\talert('Browser does not support AJAX');\n  \t\treturn;\n  \t}\n  \tvar url = 'includes/projects.php';\n  \tprojectRequest.onreadystatechange = getProjects;\n  \tprojectRequest.open('GET', url, true);\n  \tprojectRequest.send(null);\n  }\n\n  function getProjects() {\n  \tif (projectRequest.readyState === 4 || projectRequest.readyState === 'complete') {\n  \t\tvar result = JSON.parse(projectRequest.responseText);\n      var projectcont = document.querySelector('#projects');\n      result.forEach(function(project) {\n        let item = document.createElement('li');\n        item.className = 'project-item';\n        let link = document.createElement('a');\n        link.href = \"#\";\n        let image = document.createElement('img');\n        image.src = 'images/'+project.cover;\n        image.alt = project.name;\n        image.dataset.id = project.id;\n        let name = document.createElement('h3');\n        name.innerHTML = project.name;\n        link.appendChild(image);\n        link.appendChild(name);\n        item.appendChild(link);\n        projectcont.appendChild(item);\n        if (!(\"ontouchstart\" in document.documentElement)) {\n          item.classList.add('no-touch');\n        }\n        item.addEventListener('click', openProjectLightbox, false);\n      });\n  \t}\n  }\n\n  function openProjectLightbox(evt) {\n    evt.preventDefault();\n    // console.log(curPhoto);\n    while(wrapper.firstChild) {\n      wrapper.removeChild(wrapper.firstChild);\n    }\n    var id = evt.currentTarget.querySelector('img').getAttribute('data-id');\n    imageRequest = createRequest();\n  \tif (!imageRequest) {\n  \t\talert('Browser does not support AJAX');\n  \t\treturn;\n  \t}\n  \tvar url = 'includes/projects.php?id=' + id;\n  \timageRequest.onreadystatechange = getImage;\n  \timageRequest.open('GET', url, true);\n  \timageRequest.send(null);\n  }\n\n  function getImage() {\n  \tif (imageRequest.readyState === 4 || imageRequest.readyState === 'complete') {\n  \t\tvar result = JSON.parse(imageRequest.responseText);\n      var content = lightbox.querySelector('#lb-content');\n      var title = content.querySelector('#project-name');\n      var desc = content.querySelector('#project-desc > p');\n      // var wrapper = content.querySelector('#image-wrapper');\n      var close = content.querySelector('#lb-close');\n      var left = content.querySelector('#lb-left');\n      var right = content.querySelector('#lb-right');\n\n      result.forEach(function(file) {\n        let image = document.createElement('img');\n        image.classList.add('media-change');\n        image.src = 'images/'+file.file+'_'+screensize+'.'+file.extension;\n        // image.src = 'images/'+file.file+'_large.'+file.extension;\n        wrapper.appendChild(image);\n      });\n      title.innerHTML = result[0].name;\n      desc.innerHTML = result[0].description;\n      curPhoto = 0;\n      lightbox.style.display = 'block';\n\n      lightbox.removeEventListener('click', closeLightbox, false);\n      close.removeEventListener('click', closeLightbox, false);\n      left.removeEventListener('click', previousPhoto, false);\n      right.removeEventListener('click', nextPhoto, false);\n      wrapper.removeEventListener('click', nextPhoto, false);\n      lightbox.addEventListener('click', closeLightbox, false);\n      close.addEventListener('click', closeLightbox, false);\n      left.addEventListener('click', previousPhoto, false);\n      right.addEventListener('click', nextPhoto, false);\n      wrapper.addEventListener('click', nextPhoto, false);\n      title.addEventListener('click', function(evt){evt.stopPropagation();});\n      desc.addEventListener('click', function(evt){evt.stopPropagation();});\n\n      // document.querySelector('#container').classList.add('noscroll');\n      // let offsets = bodyarea.getBoundingClientRect();\n      bodyarea.classList.add('noscroll');\n  \t}\n  }\n\n  function closeLightbox() {\n    lightbox.style.display = 'none';\n    bodyarea.classList.remove('noscroll');\n    curPhoto = 0;\n    TweenMax.to(wrapper, 0, {left: 0});\n  }\n\n  function previousPhoto(evt) {\n    evt.stopPropagation();\n    // var wrapper = lightbox.querySelector('#image-wrapper');\n    var width = wrapper.offsetWidth;\n    var photos = wrapper.querySelectorAll('img');\n    // console.log(width);\n    // wrapper.style.left = wrapper.style.left + width;\n    if (!galleryTl.isActive()) {\n      if (curPhoto === 0) {\n        // console.log('first photo, go to last one');\n        galleryTl.to(wrapper, 0.5, {left: '-' + width*(photos.length-1) + 'px'});\n        curPhoto = photos.length - 1;\n      }\n      else {\n        // console.log('go to previous one');\n        galleryTl.to(wrapper, 0.5, {left: '-' + width*(curPhoto-1) + 'px'});\n        curPhoto = curPhoto - 1;\n      }\n    }\n  }\n\n  function nextPhoto(evt) {\n    evt.stopPropagation();\n    // var wrapper = lightbox.querySelector('#image-wrapper');\n    var width = wrapper.offsetWidth;\n    var photos = wrapper.querySelectorAll('img');\n    // console.log(width);\n    // console.log(curPhoto);\n    // console.log(wrapper.style.left);\n    // wrapper.style.left = wrapper.style.left - width;\n    if (!galleryTl.isActive()) {\n      if (curPhoto === photos.length-1) {\n        // console.log('last photo, go to first one');\n        galleryTl.to(wrapper, 0.5, {left: 0});\n        curPhoto = 0;\n      }\n      else {\n        // console.log('go to next one');\n        galleryTl.to(wrapper, 0.5, {left: '-' + width*(curPhoto+1) + 'px'});\n        curPhoto = curPhoto + 1;\n      }\n    }\n  }\n\n  function animateMotto() {\n    if(isElementInViewport(motto)) {\n      if (!mottoAnimated) {\n        TweenMax.to(motto, 1, {paddingTop: 0, opacity: 1});\n        mottoAnimated = true;\n      }\n    }\n  }\n\n  checkScreenSize.call(window.innerWidth);\n  showProjects.call(document.querySelector('#projects'));\n  setImageSize.call(document.querySelectorAll('.media-change'));\n\n  window.addEventListener('resize', checkScreenSize, false);\n  window.addEventListener('resize', changeImageSize, false);\n  window.addEventListener('scroll', fixHeaderOnTop, false);\n  // window.addEventListener('scroll', animateMotto, false);\n  // window.addEventListener('scroll', changeNavPosition, false);\n  menubtns.forEach(function(button) {\n    // button.addEventListener('mouseover', selectMenuOption, false);\n    // button.addEventListener('mouseout', deselectMenuOption, false);\n    button.addEventListener('click', scrollSection, false);\n  });\n  logo.addEventListener('click', scrollSection, false);\n  hambmenu.addEventListener('click', menuAnimation, false);\n  // for (let i = 0; i < menubtn.length; i++) {\n  //   menubtn[i].addEventListener('click', scrollSection, false);\n  // }\n})();\n"]}